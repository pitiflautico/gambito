{
  "id": "trivia",
  "name": "Trivia",
  "slug": "trivia",
  "version": "1.0.0",
  "description": "Juego de preguntas y respuestas con fases y puntuación",
  "minPlayers": 2,
  "maxPlayers": 8,
  "estimatedDuration": 15,

  "timing": {
    "round_ended": {
      "type": "countdown",
      "message": "Siguiente ronda en",
      "delay": 3,
      "auto_next": true
    }
  },

  "event_config": {
    "channel": "room.{roomCode}",
    "events": {
      "PhaseChangedEvent": {
        "name": ".phase.changed",
        "handler": "handlePhaseChanged"
      },
      "RoundEndedEvent": {
        "name": ".round.ended",
        "handler": "handleRoundEnded"
      },
      "Phase1StartedEvent": {
        "name": ".trivia.question.started",
        "handler": "handleQuestionStarted"
      },
      "Phase1EndedEvent": {
        "name": ".trivia.question.ended",
        "handler": "handleQuestionEnded"
      },
      "PhaseStartedEvent": {
        "name": ".game.phase.started",
        "handler": "handlePhaseStarted"
      },
      "PhaseEndedEvent": {
        "name": ".game.phase.ended",
        "handler": "handlePhaseEnded"
      },
      "PlayerLockedEvent": {
        "name": ".game.player.locked",
        "handler": "handlePlayerLocked"
      },
      "PlayersUnlockedEvent": {
        "name": ".players.unlocked",
        "handler": "handlePlayersUnlocked"
      }
    }
  },

  "modules": {
    "game_core": { "enabled": true },
    "room_manager": { "enabled": true },
    "guest_system": { "enabled": true },
    "round_system": { "enabled": true, "total_rounds": 5, "inter_round_delay": 3 },
    "phase_system": {
      "enabled": true,
      "phases": [
        {
          "name": "question",
          "duration": 25,
          "on_start": "App\\Events\\Trivia\\Phase1StartedEvent",
          "on_end": "App\\Events\\Game\\PhaseEndedEvent",
          "on_end_callback": "handleQuestionEnded",
          "render_method": "renderQuestion"
        }
      ]
    },
    "timer_system": { "enabled": true },
    "scoring_system": { "enabled": true },
    "player_system": { "enabled": true },
    "roles_system": {
      "enabled": true,
      "roles": [
        { "name": "player", "count": -1, "description": "Jugador de trivia", "rotate_on_round_start": false }
      ]
    },
    "real_time_sync": { "enabled": true }
  },

  "customizableSettings": {
    "rounds": { "type": "number", "label": "Número de rondas", "default": 5, "min": 1, "max": 20 },
    "question_selection": {
      "type": "select",
      "label": "Modo de selección de preguntas",
      "default": "shuffle",
      "options": [
        { "value": "shuffle", "label": "Aleatorio (todas las categorías)" },
        { "value": "category", "label": "Solo una categoría" }
      ]
    },
    "question_category": {
      "type": "select",
      "label": "Categoría",
      "default": "easy",
      "options": [
        { "value": "easy", "label": "Fácil" },
        { "value": "medium", "label": "Media" },
        { "value": "hard", "label": "Difícil" }
      ]
    },
    "speed_scoring_enabled": {
      "type": "checkbox",
      "label": "Habilitar bonus por velocidad",
      "default": true
    },
    "speed_scoring_max_bonus": {
      "type": "number",
      "label": "Bonus máximo por velocidad",
      "default": 10,
      "min": 0,
      "max": 50
    }
  }
}

